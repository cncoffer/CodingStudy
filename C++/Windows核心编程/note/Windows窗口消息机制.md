# 8-21

看的这篇文章挺不错的: 
    https://www.cnblogs.com/zhoug2020/p/6239018.html

windows窗口消息机制其实就是用于驱动窗口的一种消息机制.
在mfc中, 就可以理解为是各种预设的消息宏和自定义的消息宏, 以及这些消息的传递和处理.

# 发送途径
从消息的发送途径来看，消息可以分成2种：队列消息和非队列消息。消息队列又可以分成系统消息队列和线程消息队列。
队列消息一般是自从先入先出的原则, 比如鼠标键盘消息等.
而非队列消息会绕过系统队列和消息队列, 直接发送到窗口过程, 比如setfocus.

# 发送方式
消息的发送方式有三种: 发送(send), 寄送(post), 广播.

# 接收方式
也分为三种, getmessage, peekmessage, waitmessage
getmessage阻塞.
peekmessage不阻塞.
waitmessage在阻塞时会将线程挂起.

# MFC消息的处理实现方式
MFC是使用的消息映射来做消息处理.
为什么没有用虚函数呢, 因为vtable会很大. 看到这里我就真的得研究一下对象模型的实现细节了. 而且看面试的评论也有问到这一块的.

