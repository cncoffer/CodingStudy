# 7-24

类以外定义的方法都包含在顶层执行环境中, 也就是类似于全局函数.

方法名可以以?或!结尾, 一般返回bool的方法用?结尾, 可能有以外副作用的方法用!结尾.
也可以以=结尾, 这种方法用作属性书写器, 不能用在普通函数上.

`irb -I .`, -I表示加载文件时搜索的目录集, .表示当前目录, 所以整条指令的意义就是在启动irb调试时加载当前目录.

包含其他rb文件使用`require "file_name"`的方式.

# 隐式返回值

一个方法最后计算的表达式的值会自动最为这个方法的返回值. 所以对于简单的函数完全可以省略return关键词.
    def add_fun(a, b)
        a * b
    end

但我觉得这样很不好, 如果我不想返回, 这种隐式返回值会将我最后一个表达式的值暴露出来, 造成用户的误用. 我暂时的理解是可以返回一个nil或者写一行空的return.

# 类

类名通常用大小写结合的驼峰型, 变量和函数名一般用小写+_的蛇形.

类内局部变量加上@符号就变成了成员变量, 另外赋值,调用等都需加上@符号.

# 属性存取方法

成员变量在类外部是不可访问的, 这是为了封装, 不过可以提供属性书写器和属性阅读器, 类似于C#设置属性的get和set. 代码如下
    class Dog
        def dog_name=(value = "joy")
            @dog_name = value
        end
        def dog_name()
            @dog_name
        end
    end

便捷方式创建属性书写器和属性阅读器.
    attr_accessor :name, :type     # 只可读
    attr_writer :age        # 只可写
    attr_reader :talk       # 可读写

ruby中使用raise报告异常, 如果没有做其他工作来处理这个错误, 程序会退出.

